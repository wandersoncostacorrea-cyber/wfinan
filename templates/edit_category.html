{% extends "base.html" %}

{% block title %}Editar Categoria - Gerenciador Financeiro{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Editar Categoria</h1>
    <p class="text-gray-600">Modifique os dados da categoria</p>
</div>

<div class="max-w-2xl">
    <div class="bg-white rounded-xl shadow-md p-8">
        <form method="POST" action="{{ url_for('edit_category', id=category.id) }}">
            <div class="mb-6">
                <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                    Nome <span class="text-red-500">*</span>
                </label>
                <input type="text" id="name" name="name" required value="{{ category.name }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            </div>

            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-3">
                    Tipo <span class="text-red-500">*</span>
                </label>
                <div class="flex gap-4">
                    <label class="flex-1">
                        <input type="radio" name="type" value="income" class="peer hidden" required {% if category.type == 'income' %}checked{% endif %}>
                        <div class="border-2 border-gray-300 rounded-lg p-4 cursor-pointer text-center peer-checked:border-green-500 peer-checked:bg-green-50 transition">
                            <i class="fas fa-arrow-up text-2xl text-green-600 mb-2"></i>
                            <p class="font-medium text-gray-700">Receita</p>
                        </div>
                    </label>
                    <label class="flex-1">
                        <input type="radio" name="type" value="expense" class="peer hidden" required {% if category.type == 'expense' %}checked{% endif %}>
                        <div class="border-2 border-gray-300 rounded-lg p-4 cursor-pointer text-center peer-checked:border-red-500 peer-checked:bg-red-50 transition">
                            <i class="fas fa-arrow-down text-2xl text-red-600 mb-2"></i>
                            <p class="font-medium text-gray-700">Despesa</p>
                        </div>
                    </label>
                </div>
            </div>

            <div class="mb-6">
                <label for="color" class="block text-sm font-medium text-gray-700 mb-2">
                    Cor
                </label>
                <input type="color" id="color" name="color" value="{{ category.color }}"
                       class="w-20 h-10 border border-gray-300 rounded-lg cursor-pointer">
            </div>

            <div class="mb-6">
                <label for="icon" class="block text-sm font-medium text-gray-700 mb-2">
                    Ãcone
                </label>
                <select id="icon" name="icon"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                    <option value="shopping-cart" {% if category.icon == 'shopping-cart' %}selected{% endif %}>ğŸ›’ Compras</option>
                    <option value="car" {% if category.icon == 'car' %}selected{% endif %}>ğŸš— Transporte</option>
                    <option value="home" {% if category.icon == 'home' %}selected{% endif %}>ğŸ  Moradia</option>
                    <option value="heart" {% if category.icon == 'heart' %}selected{% endif %}>â¤ï¸ SaÃºde</option>
                    <option value="book" {% if category.icon == 'book' %}selected{% endif %}>ğŸ“š EducaÃ§Ã£o</option>
                    <option value="smile" {% if category.icon == 'smile' %}selected{% endif %}>ğŸ˜Š Lazer</option>
                    <option value="briefcase" {% if category.icon == 'briefcase' %}selected{% endif %}>ğŸ’¼ Trabalho</option>
                    <option value="utensils" {% if category.icon == 'utensils' %}selected{% endif %}>ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                    <option value="file-text" {% if category.icon == 'file-text' %}selected{% endif %}>ğŸ“„ Contas</option>
                    <option value="tag" {% if category.icon == 'tag' %}selected{% endif %}>ğŸ·ï¸ Outro</option>
                </select>
            </div>

            <div class="flex gap-4">
                <button type="submit" 
                        class="flex-1 bg-primary hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition">
                    <i class="fas fa-save mr-2"></i>Atualizar
                </button>
                <a href="{{ url_for('categories') }}" 
                   class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 rounded-lg transition text-center">
                    <i class="fas fa-times mr-2"></i>Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
